[include shell_command.cfg]
[virtual_sdcard]
path: ~/printer_data/gcodes
[display_status]
[pause_resume]

[mcu]
serial:/dev/serial/by-id/usb-Klipper_stm32f446xx_61003F001451303530323539-if00

[printer]                           
kinematics: corexy                  
max_velocity: 700                   
max_accel: 15000			            
max_z_velocity: 20		     	    
max_z_accel: 500                     
square_corner_velocity: 10

[idle_timeout]
timeout: 1800
####################################################################################
#                   Voron 2.4 R2 350mm
####################################################################################

[exclude_object]
[gcode_arcs]
resolution: 0.1
[include macros.cfg]
[include LED.cfg]
[include SHT36_PRO.cfg]
[include test_speed.cfg]
[include mainsail.cfg]
[include Hotkey.cfg]
[include Cartographer.cfg]
####################################################################################
#                 [X/Y Stepper Settings]
####################################################################################
#   B --------- --- A
#   |              |
#   |------E-------|
#   |              |
#   |              |
#   |              |
####################################################################################
#                   X (B Motor)
####################################################################################
[stepper_x] 
step_pin: PE11                      
dir_pin: PE10                       
enable_pin: !PE9                    
rotation_distance: 40                
microsteps: 32                      
full_steps_per_rotation:200          
position_min: 0                     
position_endstop: 350             
position_max: 350                   
homing_speed: 150                   
homing_retract_dist: 2              
homing_positive_dir: true           
#----------------------------------------------------------------------------------
[tmc2209 stepper_x]                 
uart_pin: PE7 
interpolate: true                   
run_current: 0.95                                      
sense_resistor: 0.110                
stealthchop_threshold:  0 


####################################################################################
#                   Y (A Motor)
####################################################################################
[stepper_y]                         
step_pin: PD8                       
dir_pin: PB12                       
enable_pin: !PD9                    
rotation_distance: 40               
microsteps: 32                       
full_steps_per_rotation:200        
endstop_pin: ^PB13  
position_min: 0                     
position_endstop: 350              
position_max: 353                   
homing_speed: 150                   
homing_retract_dist: 2               
homing_positive_dir: true           
#-----------------------------------------------------------------------------------
[tmc2209 stepper_y]                 
uart_pin: PE15 
interpolate: true                
run_current: 0.95                                       
sense_resistor: 0.110                
stealthchop_threshold: 0 


####################################################################################
#                      Z Stepper Settings
####################################################################################
# ----------------
# |Z1          Z2|
# |  ---------   |
# |  |       |   |
# |  |       |   |
# |  x--------   |
# |Z           Z3|
# ----------------
#
####################################################################################
#                   Z
#################################################################################### 
[stepper_z]                         
step_pin: PD14                      
dir_pin: PD13                       
enable_pin: !PD15                   
rotation_distance: 40               
gear_ratio: 80:16                   
microsteps: 32 
#----------------------------------------------------------------------------------
endstop_pin: probe:z_virtual_endstop   # use idm as virtual endstop        
position_max: 310                   
position_min: -10                    
homing_speed: 10                     
#second_homing_speed: 3              
homing_retract_dist: 0 # idm needs this to be set to 0               
#----------------------------------------------------------------------------------
[tmc2209 stepper_z]                 
uart_pin: PD10                      
interpolate: true                
run_current: 0.8                                      
sense_resistor: 0.110                
stealthchop_threshold: 0 

####################################################################################
#                   Z1
####################################################################################  
[stepper_z1]                        
step_pin: PE6                       
dir_pin: !PC13                       
enable_pin: !PE5                    
rotation_distance: 40               
gear_ratio: 80:16                   
microsteps: 32                     
#-----------------------------------------------------------------------------------
[tmc2209 stepper_z1]                
uart_pin: PC14                       
interpolate: true               
run_current: 0.8                                       
sense_resistor: 0.110                
stealthchop_threshold: 0

####################################################################################
#                   Z2
#################################################################################### 
[stepper_z2]                       
step_pin: PE2                        
dir_pin: PE4                        
enable_pin: !PE3                    
rotation_distance: 40                
gear_ratio: 80:16                    
microsteps: 32                       
#----------------------------------------------------------------------------------
[tmc2209 stepper_z2]                
uart_pin: PC15                      
interpolate: true                  
run_current: 0.8                                        
sense_resistor: 0.110                
stealthchop_threshold: 0

####################################################################################
#                   Z3
#################################################################################### 
[stepper_z3]                       
step_pin: PD12                       
dir_pin: !PC4                        
enable_pin: !PE8                     
rotation_distance: 40                
gear_ratio: 80:16                    
microsteps: 32                       
#-----------------------------------------------------------------------------------
[tmc2209 stepper_z3]                
uart_pin: PA15                      
interpolate: true                 
run_current: 0.8                                      
sense_resistor: 0.110                
stealthchop_threshold: 0  

####################################################################################
#                   Bed Heater
####################################################################################
[heater_bed]
heater_pin: PB4                     
sensor_type: Generic 3950           
sensor_pin: PB0                      
max_power: 0.6                     
min_temp: 0                       
max_temp: 120                      
#control: pid                       
#pid_kp: 58.437                     
#pid_ki: 2.347                      
#pid_kd: 363.769                    

####################################################################################
#	             Fan Control
####################################################################################
[heater_fan Controller_fan]         
pin: PC8                             
fan_speed: 0.35                      
kick_start_time: 0.5                
heater: extruder           
heater_temp: 40 
#--------------------------------------------------------------------------------
[heater_fan Nevermore_filter]
pin: PB3                            
max_power: 1.0                       
shutdown_speed: 0.0                 
kick_start_time: 5.0                
heater: heater_bed                  
heater_temp: 60                     
fan_speed: 1.0                      

####################################################################################
#	                LED Control
####################################################################################
[output_pin caselight]              
pin:PB6
pwm: true
shutdown_value: 0
cycle_time: 0.01
value: 1   

####################################################################################
#            Pi MCU  Board Spider v2.3
####################################################################################
[temperature_sensor Spider]
sensor_type: temperature_mcu
sensor_mcu: mcu
min_temp: 0
max_temp: 90
#-----------------------------------------------------------------------------------
[temperature_sensor Raspberry]
sensor_type: temperature_host
sensor_path:/sys/class/thermal/thermal_zone0/temp
min_temp: 0
max_temp: 90






    


   
## 	Thermistor Types
##   "EPCOS 100K B57560G104F"
##   "ATC Semitec 104GT-2"
##   "NTC 100K beta 3950"
##   "Honeywell 100K 135-104LAG-J01"
##   "NTC 100K MGB18-104F39050L32" (Keenovo Heater Pad)
##   "AD595"
##   "PT100 INA826"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 32.887
#*# pid_ki = 1.059
#*# pid_kd = 255.287
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 25.614
#*# pid_ki = 2.339
#*# pid_kd = 70.121
#*#
#*# [input_shaper]
#*# shaper_type_x = mzv
#*# shaper_freq_x = 67.8
#*# shaper_type_y = mzv
#*# shaper_freq_y = 43.8
#*#
#*# [scanner model default]
#*# model_coef = 1.5940743005780467,
#*# 	1.9363985627490867,
#*# 	0.7015372436241087,
#*# 	0.23859972229756451,
#*# 	0.5801218351064972,
#*# 	0.6183950973409317,
#*# 	-0.6601707424492255,
#*# 	-0.745144069079246,
#*# 	0.43382959007412025,
#*# 	0.4029461583196691
#*# model_domain = 3.216331776630533e-07,3.3008381851713493e-07
#*# model_range = 0.200000,5.100000
#*# model_temp = 60.220366
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.077763, -0.079815, -0.079755, -0.076899, -0.074852, -0.074283, -0.071220, -0.067918, -0.067361, -0.064058, -0.061428, -0.059922, -0.050558, -0.047926, -0.047816, -0.043363, -0.043560, -0.040524, -0.035693, -0.036313, -0.037346, -0.034786, -0.037871, -0.041001, -0.038674, -0.046607, -0.054586, -0.059407, -0.063882, -0.066299
#*# 	-0.069075, -0.067195, -0.068568, -0.066661, -0.063071, -0.060545, -0.060177, -0.056075, -0.051543, -0.051655, -0.047546, -0.043114, -0.040626, -0.036874, -0.034138, -0.031300, -0.025751, -0.025803, -0.025222, -0.025429, -0.023145, -0.024473, -0.028020, -0.026556, -0.031646, -0.033789, -0.037173, -0.044322, -0.048939, -0.053275
#*# 	-0.059958, -0.059631, -0.057077, -0.057096, -0.052099, -0.049054, -0.049357, -0.044391, -0.041805, -0.040364, -0.035778, -0.033469, -0.031462, -0.025037, -0.023240, -0.021294, -0.017705, -0.018663, -0.015784, -0.016461, -0.016308, -0.015525, -0.018446, -0.019318, -0.018996, -0.025759, -0.028475, -0.038638, -0.040568, -0.044109
#*# 	-0.054560, -0.054596, -0.051515, -0.049822, -0.045554, -0.043285, -0.040395, -0.036790, -0.033904, -0.032060, -0.028813, -0.025906, -0.020844, -0.016801, -0.015729, -0.014651, -0.012244, -0.011702, -0.010748, -0.008968, -0.010113, -0.010033, -0.012509, -0.014292, -0.013355, -0.019669, -0.023150, -0.032121, -0.035444, -0.036314
#*# 	-0.049711, -0.048952, -0.045669, -0.042437, -0.041601, -0.034720, -0.033568, -0.032133, -0.024878, -0.024983, -0.022495, -0.015843, -0.017897, -0.015672, -0.008533, -0.009675, -0.008802, -0.004068, -0.004892, -0.004021, -0.002875, -0.006384, -0.008355, -0.009488, -0.010960, -0.013193, -0.018339, -0.022569, -0.024450, -0.030896
#*# 	-0.045753, -0.044556, -0.041610, -0.037593, -0.034744, -0.032027, -0.029051, -0.026512, -0.022404, -0.020162, -0.018660, -0.016612, -0.012207, -0.010670, -0.007499, -0.005882, -0.004492, -0.000812, -0.000782, -0.002017, -0.000397, -0.002466, -0.004269, -0.008602, -0.007143, -0.011367, -0.018491, -0.019817, -0.026229, -0.027987
#*# 	-0.040901, -0.038861, -0.037416, -0.032395, -0.030503, -0.027905, -0.023556, -0.021109, -0.020754, -0.014924, -0.013908, -0.010641, -0.005855, -0.005662, -0.002725, 0.000085, -0.001033, 0.002226, 0.002554, 0.002616, 0.004329, 0.001645, -0.000112, -0.002365, -0.001946, -0.004566, -0.013183, -0.015177, -0.019755, -0.020139
#*# 	-0.042777, -0.039047, -0.036629, -0.033411, -0.029228, -0.024868, -0.023740, -0.018942, -0.013997, -0.012651, -0.009384, -0.007593, -0.004185, -0.001585, 0.000504, 0.002834, 0.005343, 0.003948, 0.005903, 0.004258, 0.004325, 0.001994, 0.000064, -0.000641, -0.002044, -0.005045, -0.006055, -0.011489, -0.014553, -0.019361
#*# 	-0.042878, -0.039954, -0.034774, -0.035313, -0.025836, -0.022517, -0.021350, -0.016659, -0.015397, -0.012599, -0.008241, -0.006831, -0.004846, -0.000066, 0.002358, 0.003751, 0.006340, 0.003937, 0.005639, 0.005324, 0.005537, 0.004124, 0.001193, 0.001552, 0.002027, -0.002450, -0.005452, -0.013409, -0.014466, -0.017044
#*# 	-0.042992, -0.038682, -0.035394, -0.032666, -0.028045, -0.022866, -0.019445, -0.017266, -0.012859, -0.010413, -0.009367, -0.006723, -0.002754, -0.001167, 0.002669, 0.002145, 0.003693, 0.004185, 0.003910, 0.002600, 0.004332, 0.001451, 0.000627, 0.000233, 0.000758, -0.003289, -0.003859, -0.013084, -0.012502, -0.015434
#*# 	-0.039701, -0.037298, -0.031287, -0.028927, -0.026376, -0.019521, -0.017732, -0.015447, -0.009724, -0.010287, -0.006558, -0.003823, -0.001457, 0.000221, 0.002453, 0.003465, 0.006931, 0.006741, 0.006423, 0.006271, 0.008547, 0.004878, 0.003337, 0.002098, 0.001184, -0.000340, -0.004667, -0.008712, -0.010421, -0.012904
#*# 	-0.040500, -0.037395, -0.034468, -0.031290, -0.026170, -0.021185, -0.018034, -0.014576, -0.011901, -0.010359, -0.007981, -0.005652, -0.002715, -0.000185, 0.001342, 0.002585, 0.003872, 0.004757, 0.003900, 0.006930, 0.004348, 0.003003, 0.004113, -0.000987, 0.000739, -0.001072, -0.008408, -0.008711, -0.010670, -0.012734
#*# 	-0.043300, -0.038183, -0.035012, -0.031141, -0.026559, -0.023909, -0.017966, -0.016348, -0.014247, -0.010507, -0.008283, -0.007669, -0.003375, -0.003480, -0.000234, 0.002689, 0.001434, 0.004624, 0.003953, 0.004168, 0.004260, 0.002302, 0.001226, -0.001160, -0.000304, -0.001912, -0.007778, -0.008988, -0.011872, -0.013306
#*# 	-0.045020, -0.042757, -0.038488, -0.034970, -0.030900, -0.026234, -0.024176, -0.020239, -0.017680, -0.015564, -0.013770, -0.012189, -0.009375, -0.007717, -0.004741, -0.001672, -0.003195, -0.002596, -0.000386, -0.002411, -0.001841, -0.001551, -0.006952, -0.006436, -0.006209, -0.007315, -0.010671, -0.012226, -0.015673, -0.018193
#*# 	-0.046985, -0.042316, -0.039430, -0.038981, -0.031566, -0.030066, -0.026923, -0.023171, -0.021212, -0.017617, -0.014847, -0.014595, -0.010146, -0.008018, -0.005141, -0.006729, -0.004116, -0.004136, -0.004170, -0.003726, -0.003239, -0.005377, -0.006285, -0.006836, -0.006591, -0.008738, -0.009638, -0.017698, -0.018781, -0.018525
#*# 	-0.051501, -0.047611, -0.044156, -0.039473, -0.036125, -0.033026, -0.029250, -0.025852, -0.022653, -0.021184, -0.018903, -0.016404, -0.013216, -0.011841, -0.009424, -0.007084, -0.007219, -0.008327, -0.005902, -0.007584, -0.006887, -0.008239, -0.011042, -0.006986, -0.009635, -0.011356, -0.012016, -0.020724, -0.020733, -0.022398
#*# 	-0.054666, -0.051940, -0.047264, -0.046672, -0.041102, -0.035888, -0.034506, -0.031074, -0.026239, -0.026308, -0.023781, -0.019285, -0.018936, -0.016807, -0.015031, -0.012700, -0.010034, -0.011514, -0.011513, -0.011941, -0.012796, -0.012644, -0.015066, -0.014224, -0.014285, -0.014739, -0.015511, -0.020298, -0.022396, -0.025088
#*# 	-0.062470, -0.059888, -0.055972, -0.050915, -0.046770, -0.042407, -0.040034, -0.036660, -0.033096, -0.032252, -0.030284, -0.028375, -0.025938, -0.022408, -0.019588, -0.021256, -0.018222, -0.019688, -0.018156, -0.017958, -0.018079, -0.019377, -0.020733, -0.021191, -0.020098, -0.019707, -0.026852, -0.027901, -0.026968, -0.028187
#*# 	-0.065997, -0.063149, -0.059872, -0.054881, -0.051600, -0.045238, -0.043140, -0.038396, -0.036343, -0.033322, -0.032387, -0.030206, -0.025966, -0.026368, -0.023480, -0.023297, -0.022018, -0.020415, -0.019998, -0.020332, -0.020366, -0.020945, -0.022175, -0.022828, -0.021461, -0.021853, -0.026710, -0.026211, -0.029055, -0.028774
#*# 	-0.065890, -0.062882, -0.060523, -0.055444, -0.051714, -0.047471, -0.043357, -0.040225, -0.036964, -0.033324, -0.032566, -0.030425, -0.027702, -0.025232, -0.023828, -0.022649, -0.023665, -0.023150, -0.020930, -0.020078, -0.022173, -0.022092, -0.023552, -0.025089, -0.023538, -0.024072, -0.029284, -0.026082, -0.029161, -0.029813
#*# 	-0.067470, -0.063094, -0.060327, -0.058947, -0.052040, -0.049173, -0.045293, -0.040281, -0.040283, -0.036498, -0.034686, -0.032903, -0.029129, -0.028559, -0.026925, -0.026382, -0.025737, -0.026691, -0.025124, -0.025540, -0.027184, -0.026593, -0.027493, -0.027387, -0.024515, -0.026518, -0.029361, -0.031452, -0.034454, -0.032473
#*# 	-0.069603, -0.065783, -0.062913, -0.059126, -0.055715, -0.052111, -0.049073, -0.044519, -0.041712, -0.038967, -0.038553, -0.037376, -0.033439, -0.030886, -0.030629, -0.029141, -0.028699, -0.029193, -0.028079, -0.030847, -0.030952, -0.031859, -0.031722, -0.031648, -0.029700, -0.032116, -0.031265, -0.035650, -0.036506, -0.037171
#*# 	-0.070666, -0.065854, -0.062153, -0.062083, -0.055754, -0.050599, -0.049427, -0.045192, -0.042203, -0.041390, -0.036366, -0.034822, -0.034431, -0.031908, -0.032128, -0.031465, -0.030808, -0.031114, -0.032060, -0.033060, -0.032363, -0.034192, -0.036420, -0.034830, -0.034026, -0.034021, -0.035626, -0.039748, -0.038927, -0.040636
#*# 	-0.068785, -0.066068, -0.062921, -0.060023, -0.054825, -0.050438, -0.048015, -0.044228, -0.040547, -0.040159, -0.039996, -0.037675, -0.035104, -0.033438, -0.031283, -0.032578, -0.034247, -0.034522, -0.035123, -0.033957, -0.036289, -0.039929, -0.037665, -0.038952, -0.036709, -0.037626, -0.042169, -0.042708, -0.043244, -0.045387
#*# 	-0.072140, -0.069022, -0.065558, -0.062679, -0.059997, -0.053771, -0.050866, -0.048844, -0.045797, -0.045383, -0.043654, -0.042714, -0.040841, -0.040162, -0.038010, -0.037605, -0.038078, -0.040050, -0.039587, -0.040971, -0.042580, -0.045813, -0.046876, -0.048515, -0.048522, -0.046312, -0.049121, -0.050140, -0.051715, -0.052682
#*# 	-0.077041, -0.072649, -0.070845, -0.067324, -0.063290, -0.058597, -0.056805, -0.052355, -0.050406, -0.051230, -0.048179, -0.049582, -0.046047, -0.044593, -0.045862, -0.045098, -0.044943, -0.047988, -0.046987, -0.048417, -0.051724, -0.053308, -0.053921, -0.055373, -0.054911, -0.054418, -0.059235, -0.057279, -0.060015, -0.060030
#*# 	-0.077541, -0.074155, -0.072434, -0.068029, -0.064099, -0.060940, -0.057096, -0.054149, -0.053886, -0.052762, -0.051725, -0.051536, -0.050121, -0.047802, -0.048433, -0.048377, -0.049316, -0.051182, -0.051569, -0.054154, -0.054415, -0.057988, -0.057339, -0.059954, -0.058593, -0.057653, -0.059581, -0.063392, -0.063927, -0.062923
#*# 	-0.076816, -0.073236, -0.069865, -0.067638, -0.061761, -0.059029, -0.057244, -0.053437, -0.051557, -0.050479, -0.049816, -0.050161, -0.048719, -0.048707, -0.048794, -0.047836, -0.052061, -0.053335, -0.052751, -0.054612, -0.056860, -0.057231, -0.061086, -0.060134, -0.059091, -0.061025, -0.059799, -0.062239, -0.062929, -0.063429
#*# 	-0.077524, -0.074495, -0.069896, -0.069314, -0.064972, -0.059409, -0.056450, -0.054243, -0.052720, -0.051975, -0.052654, -0.051735, -0.051572, -0.051590, -0.051891, -0.051571, -0.053606, -0.055610, -0.056422, -0.058929, -0.059742, -0.060750, -0.063514, -0.064188, -0.062620, -0.062041, -0.063911, -0.065815, -0.066541, -0.066078
#*# 	-0.075560, -0.074244, -0.070435, -0.068221, -0.064276, -0.060677, -0.059893, -0.056784, -0.054574, -0.054434, -0.055379, -0.054376, -0.054316, -0.055101, -0.054450, -0.057166, -0.057610, -0.057641, -0.060013, -0.061617, -0.062958, -0.066696, -0.067778, -0.068086, -0.065817, -0.067757, -0.067616, -0.068392, -0.070410, -0.070193
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 40.0
#*# max_x = 310.0
#*# min_y = 40.0
#*# max_y = 310.0
#*#
#*# [scanner]
#*# scanner_touch_threshold = 1250
#*# scanner_touch_z_offset = 0.150
#*# mode = touch
#*# scanner_touch_speed = 3
